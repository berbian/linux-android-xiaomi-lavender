
2022-10-24

# Enable overlay fs
CONFIG_OVERLAY_FS=y

# extra filesystems
CONFIG_BLK_DEV_CRYPTOLOOP=y
CONFIG_BLK_DEV_DRBD=y
CONFIG_ATA_OVER_ETH=y

# debug enable pstore
CONFIG_PSTORE=y
CONFIG_PSTORE_CONSOLE=y
CONFIG_PSTORE_PMSG=y
CONFIG_PSTORE_RAM=y
CONFIG_PSTORE_LAST_KMSG=y                                 
CONFIG_PSTORE_RAM_ANNOTATION_APPEND=y

# Kernel configs required by lxc-checkconfig 
CONFIG_CGROUP_SCHEDTUNE=y
CONFIG_MEMCG=y
CONFIG_CPU_FREQ_GOV_SCHEDUTIL=y
CONFIG_RT_GROUP_SCHED=y
CONFIG_PACKET_DIAG=y
CONFIG_UNIX_DIAG=y
CONFIG_NETLINK_DIAG=y

# Droidian requirements
CONFIG_ANDROID_PARANOID_NETWORK=n
CONFIG_USER_NS=y
CONFIG_ANDROID_BINDERFS=n
# CONFIG_ANDROID_BINDER_DEVICES is defined below in the Waydroid section


# RNDIS usb networking
CONFIG_USB_CONFIGFS_RNDIS=y
CONFIG_USB_CONFIGFS_RMNET_BAM=y
CONFIG_USB_CONFIGFS_MASS_STORAGE=y

# Bluetooth
CONFIG_BT_HCIVHCI=y
CONFIG_BT_HIDP=y
CONFIG_BT_RFCOMM=y

# Crypto
CONFIG_CRYPTO_USER_API_SKCIPHER=y

# Security
CONFIG_SECURITY_YAMA=y

# Waydroid configs
CONFIG_SW_SYNC_USER=y
CONFIG_NET_CLS_CGROUP=y
CONFIG_CGROUP_NET_CLASSID=y
CONFIG_VETH=y
CONFIG_NETFILTER_XT_TARGET_CHECKSUM=y
CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder,anbox-binder,anbox-hwbinder,anbox-vndbinder"

# Anbox configs
CONFIG_POSIX_MQUEUE=y
CONFIG_POSIX_MQUEUE_SYSCTL=y
CONFIG_ANBOX=y
# CONFIG_ANBOX_BINDER_IPC  is not set
# CONFIG_ANBOX_BINDER_IPC_32BIT is not set
CONFIG_SQUASHFS=y
CONFIG_SQUASHFS_DECOMP_SINGLE=y
# CONFIG_SQUASHFS_DECOMP_MULTI is not set
# CONFIG_SQUASHFS_DECOMP_MULTI_PERCPU is not set
# CONFIG_SQUASHFS_XATTR is not set
CONFIG_SQUASHFS_ZLIB=y
# CONFIG_SQUASHFS_LZ4 is not set
# CONFIG_SQUASHFS_LZO is not set
CONFIG_SQUASHFS_XZ=y
# CONFIG_SQUASHFS_4K_DEVBLK_SIZE is not set
# CONFIG_SQUASHFS_EMBEDDED is not set
CONFIG_SQUASHFS_FRAGMENT_CACHE_SIZE=3
CONFIG_XZ_DEC=y
CONFIG_XZ_DEC_X86=y
CONFIG_XZ_DEC_POWERPC=y
CONFIG_XZ_DEC_IA64=y
CONFIG_XZ_DEC_ARM=y
CONFIG_XZ_DEC_ARMTHUMB=y
CONFIG_XZ_DEC_SPARC=y
CONFIG_XZ_DEC_BCJ=y
# CONFIG_XZ_DEC_TEST is not set
CONFIG_ANDROID_LOW_MEMORY_KILLER=y

# Halium errors
CONFIG_VT=y
CONFIG_IP_NF_MATCH_RPFILTER=y
CONFIG_EPOLL=y
CONFIG_PROC_FS=y
CONFIG_DUMMY=n
CONFIG_INOTIFY_USER=y
CONFIG_RD_GZIP=y
CONFIG_TIMERFD=y
CONFIG_DEVTMPFS_MOUNT=y
CONFIG_SIGNALFD=y
CONFIG_QUOTACTL=y
CONFIG_SYSVIPC=y
CONFIG_DEVTMPFS=y
CONFIG_FHANDLE=y
CONFIG_NLS_UTF8=y
CONFIG_SYSFS=y
CONFIG_NETFILTER_XT_MATCH_MULTIPORT=y
CONFIG_COMPAT_VDSO=n
CONFIG_SECURITY_SELINUX_BOOTPARAM=y

# Halium warnings
CONFIG_WATCHDOG_NOWAYOUT=n # Enable once there is dsme or an alternative
CONFIG_NET_NS=y
CONFIG_PID_NS=y
CONFIG_UDF_FS=y
CONFIG_NETFILTER_XT_MATCH_SCTP=y
CONFIG_NETFILTER_XT_CONNMARK=y
CONFIG_NETFILTER_XT_MATCH_RECENT=y
CONFIG_NETFILTER_XT_MATCH_ESP=y
CONFIG_NETFILTER_XT_MATCH_DCCP=y
CONFIG_NETFILTER_XT_MATCH_NFACCT=y
CONFIG_UTS_NS=y
CONFIG_TMPFS_XATTR=y
CONFIG_BLK_CGROUP=y
CONFIG_FANOTIFY=y
CONFIG_CGROUP_PERF=y
CONFIG_CPUSETS=y
CONFIG_LBDAF=y
CONFIG_CGROUP_DEVICE=y
CONFIG_IPC_NS=y
CONFIG_NETPRIO_CGROUP=y
CONFIG_MEMCG_KMEM=y
CONFIG_RTC_DRV_CMOS=y
CONFIG_SCHED_TUNE=n
